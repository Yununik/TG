# üìö –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL

## üéØ –ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏)

–ú—ã –∑–∞–ø—É—Å—Ç–∏–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –≤ Docker. –≠—Ç–æ –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ "–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –∫–æ—Ä–æ–±–∫–µ", —á—Ç–æ–±—ã –æ–Ω–∞ –Ω–µ –º–µ—à–∞–ª–∞ –¥—Ä—É–≥–∏–º –ø—Ä–æ–≥—Ä–∞–º–º–∞–º –Ω–∞ —Ç–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

---

## üìã –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop

### –ß—Ç–æ —Ç–∞–∫–æ–µ Docker Desktop?
–≠—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ "–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –∫–æ—Ä–æ–±–∫–∞–º–∏" (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏).

### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
1. **–ù–∞–π–¥–∏ Docker Desktop –Ω–∞ —Å–≤–æ–µ–º Mac:**
   - –ù–∞–∂–º–∏ `Cmd + Space` (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ–∏—Å–∫ Spotlight)
   - –ù–∞–ø–∏—à–∏ "Docker"
   - –ù–∞–∂–º–∏ Enter

2. **–ò–ª–∏ –Ω–∞–π–¥–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö:**
   - –û—Ç–∫—Ä–æ–π –ø–∞–ø–∫—É "–ü—Ä–æ–≥—Ä–∞–º–º—ã" (Applications)
   - –ù–∞–π–¥–∏ "Docker"
   - –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏

3. **–î–æ–∂–¥–∏—Å—å –∑–∞–ø—É—Å–∫–∞:**
   - –í –≤–µ—Ä—Ö–Ω–µ–π —Å—Ç—Ä–æ–∫–µ –º–µ–Ω—é (—Ä—è–¥–æ–º —Å —á–∞—Å–∞–º–∏) –ø–æ—è–≤–∏—Ç—Å—è –∏–∫–æ–Ω–∫–∞ Docker (–∫–∏—Ç)
   - –ò–∫–æ–Ω–∫–∞ –±—É–¥–µ—Ç –º–∏–≥–∞—Ç—å, –ø–æ–∫–∞ Docker –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
   - –ö–æ–≥–¥–∞ –∏–∫–æ–Ω–∫–∞ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –º–∏–≥–∞—Ç—å –∏ —Å—Ç–∞–Ω–µ—Ç —Å—Ç–∞—Ç–∏—á–Ω–æ–π - Docker –≥–æ—Ç–æ–≤!

4. **–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Docker —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É Docker –≤ —Å—Ç—Ä–æ–∫–µ –º–µ–Ω—é
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–æ "Docker Desktop is running"

**‚úÖ –ö–æ–≥–¥–∞ Docker –∑–∞–ø—É—â–µ–Ω - –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ –®–∞–≥—É 2!**

---

## üìã –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL

### –ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º?
–ú—ã –≥–æ–≤–æ—Ä–∏–º Docker: "–°–∫–∞—á–∞–π –∏ –∑–∞–ø—É—Å—Ç–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL".

### –ö–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä—É—é —è –≤—ã–ø–æ–ª–Ω—é:
```bash
docker run --name telegram-bot-db \
  -e POSTGRES_PASSWORD=mysecretpassword \
  -p 5432:5432 \
  -d postgres
```

### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏):

- `docker run` = "Docker, –∑–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É"
- `--name telegram-bot-db` = "–ù–∞–∑–æ–≤–∏ —ç—Ç—É –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö 'telegram-bot-db'"
- `-e POSTGRES_PASSWORD=mysecretpassword` = "–£—Å—Ç–∞–Ω–æ–≤–∏ –ø–∞—Ä–æ–ª—å 'mysecretpassword'"
- `-p 5432:5432` = "–û—Ç–∫—Ä–æ–π –ø–æ—Ä—Ç 5432, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"
- `-d` = "–ó–∞–ø—É—Å—Ç–∏ –≤ —Ñ–æ–Ω–µ (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–π –æ–∫–Ω–æ)"
- `postgres` = "–ò—Å–ø–æ–ª—å–∑—É–π –æ–±—Ä–∞–∑ PostgreSQL"

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
1. Docker —Å–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑ PostgreSQL (–µ—Å–ª–∏ –µ–≥–æ –µ—â–µ –Ω–µ—Ç)
2. –°–æ–∑–¥–∞—Å—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
3. –ó–∞–ø—É—Å—Ç–∏—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ñ–æ–Ω–µ

**‚è± –≠—Ç–æ –∑–∞–π–º–µ—Ç 1-2 –º–∏–Ω—É—Ç—ã –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞)**

---

## üìã –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
docker ps
```

### –ß—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç:
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ—Ä–æ–±–∫–∏).

### –ß—Ç–æ —Ç—ã —É–≤–∏–¥–∏—à—å:
–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –≤–∫–ª—é—á–∞—è –Ω–∞—à `telegram-bot-db` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "Up" (—Ä–∞–±–æ—Ç–∞–µ—Ç).

---

## üìã –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ß—Ç–æ –º—ã —Å–æ–∑–¥–∞–¥–∏–º?
–§–∞–π–ª `.env.local` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

### –ß—Ç–æ –≤ –Ω–µ–º –±—É–¥–µ—Ç:
```
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
DATABASE_URL=postgresql://postgres:mysecretpassword@localhost:5432/telegram_bot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=mysecretpassword
POSTGRES_DB=telegram_bot
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
```

### –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏):
- `DATABASE_URL` = "–ê–¥—Ä–µ—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö" (–∫–∞–∫ –∞–¥—Ä–µ—Å –¥–æ–º–∞, –Ω–æ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º—ã)
- `POSTGRES_USER` = "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "postgres")
- `POSTGRES_PASSWORD` = "–ü–∞—Ä–æ–ª—å" (—Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏)
- `POSTGRES_DB` = "–ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"
- `POSTGRES_HOST` = "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–∞–∑–∞" (localhost = –Ω–∞ —Ç–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)
- `POSTGRES_PORT` = "–ü–æ—Ä—Ç" (5432 = —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç PostgreSQL)

### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
–ß—Ç–æ–±—ã –Ω–∞—à –±–æ—Ç –∑–Ω–∞–ª, –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

---

## üìã –®–∞–≥ 5: –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ PostgreSQL

### –ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º?
PostgreSQL - —ç—Ç–æ –∫–∞–∫ "–¥–æ–º", –∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - —ç—Ç–æ "–∫–æ–º–Ω–∞—Ç–∞ –≤ –¥–æ–º–µ". –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å "–∫–æ–º–Ω–∞—Ç—É".

### –ö–æ–º–∞–Ω–¥–∞:
```bash
docker exec -it telegram-bot-db psql -U postgres -c "CREATE DATABASE telegram_bot;"
```

### –ß—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç:
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PostgreSQL
- –°–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –∏–º–µ–Ω–µ–º "telegram_bot"

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: –í—Å–µ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
docker exec -it telegram-bot-db psql -U postgres -d telegram_bot -c "SELECT version();"
```

### –ß—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç:
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é PostgreSQL
- –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø–æ–∫–∞–∂–µ—Ç –≤–µ—Ä—Å–∏—é

---

## üõë –ö–∞–∫ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
```bash
docker stop telegram-bot-db
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞:
```bash
docker start telegram-bot-db
```

### –£–¥–∞–ª–∏—Ç—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ):
```bash
docker stop telegram-bot-db
docker rm telegram-bot-db
```

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ?**
A: –î–∞, –ø–æ–∫–∞ Docker Desktop –∑–∞–ø—É—â–µ–Ω. –ï—Å–ª–∏ –∑–∞–∫—Ä–æ–µ—à—å Docker Desktop - –±–∞–∑–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å?**
A: –î–∞, –Ω–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –õ—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å –¥–ª—è –Ω–∞—á–∞–ª–∞.

**Q: –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ?**
A: –í–Ω—É—Ç—Ä–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ï—Å–ª–∏ —É–¥–∞–ª–∏—à—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä - –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–ø–∞–¥—É—Ç (–Ω–æ –º—ã –Ω–∞—Å—Ç—Ä–æ–∏–º —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–∂–µ).

**Q: –ù—É–∂–Ω–æ –ª–∏ —á—Ç–æ-—Ç–æ –µ—â–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å?**
A: –ù–µ—Ç! –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Docker.

---

## üéØ –ò—Ç–æ–≥

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∑–∞–ø—É—â–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –§–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ë–æ—Ç –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ—Ç–∞!

---

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ö–æ–≥–¥–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –º—ã –º–æ–∂–µ–º:
1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü (–≥–¥–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ)
2. –ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ—Ç–∞
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–æ—Ç–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–ì–æ—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å? –°–∫–∞–∂–∏, –∫–æ–≥–¥–∞ Docker Desktop –∑–∞–ø—É—â–µ–Ω!** üöÄ
